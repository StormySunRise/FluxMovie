import{a as I,c as L,d as _,e as N,f as F,g as j,j as U,l as E,n as W,q as k}from"./chunk-XIAPWBDK.js";import{a as R}from"./chunk-WQPGKETM.js";import"./chunk-TLQWEWJL.js";import{a as x}from"./chunk-HZQYCWS3.js";import{g as M,h as S}from"./chunk-542AAHZQ.js";import"./chunk-CKMECCOM.js";import{Bb as s,Fb as p,Gb as u,Hb as c,Ua as m,Va as d,aa as f,ba as h,e as l,ka as b,la as w,ob as i,oc as C,pb as a,qb as y,tb as v}from"./chunk-XYDWLSVQ.js";var O=(()=>{class t{getUserAll(o){return l(this,null,function*(){try{return(yield x.get(`${o}/api/User/all`)).data}catch(e){throw console.error("Error registering user:",e),e}})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var P=(()=>{class t{constructor(o,e){this.router=o,this.loginService=e,this.email="",this.password="",this.apiUrl=R.apiUrl,this.users=[]}ngOnInit(){this.getUsers()}getUsers(){return l(this,null,function*(){this.users=yield this.loginService.getUserAll(this.apiUrl)})}login(){let o=this.users.find(e=>e.email===this.email);console.log(o.id),o?o.password===this.password?(localStorage.setItem("loggedUser",JSON.stringify(o.id)),this.router.navigate(["/Auth/home"])):alert("Contrase\xF1a incorrecta"):alert("Usuario no encontrado")}static{this.\u0275fac=function(e){return new(e||t)(d(M),d(O))}}static{this.\u0275cmp=b({type:t,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","relative","bg-cover","bg-center",2,"background-image","url('https://www.islabit.com/wp-content/uploads/2020/12/cintas-online.jpg')"],[1,"relative","z-10","w-full","max-w-md","bg-gray-900","p-8","rounded-lg","shadow-lg","text-white"],[1,"text-3xl","font-bold","mb-6","text-center","text-blue-500"],[3,"ngSubmit"],[1,"mb-4"],["for","email",1,"block","text-sm","mb-2"],["type","email","id","email","name","email","placeholder","Introduce tu correo","required","",1,"w-full","p-3","rounded","bg-gray-700","border","border-gray-600","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"mb-6"],["for","password",1,"block","text-sm","mb-2"],["type","password","id","password","name","password","placeholder","Introduce tu contrase\xF1a","required","",1,"w-full","p-3","rounded","bg-gray-700","border","border-gray-600","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","p-3","bg-blue-600","rounded","hover:bg-blue-700","transition"]],template:function(e,r){e&1&&(y(0,"app-navbar"),i(1,"div",0)(2,"div",1)(3,"h1",2),s(4,"Iniciar sesi\xF3n"),a(),i(5,"form",3),v("ngSubmit",function(){return r.login()}),i(6,"div",4)(7,"label",5),s(8,"Correo electr\xF3nico"),a(),i(9,"input",6),c("ngModelChange",function(n){return u(r.email,n)||(r.email=n),n}),a()(),i(10,"div",7)(11,"label",8),s(12,"Contrase\xF1a"),a(),i(13,"input",9),c("ngModelChange",function(n){return u(r.password,n)||(r.password=n),n}),a()(),i(14,"button",10),s(15,"Iniciar sesi\xF3n"),a()()()()),e&2&&(m(9),p("ngModel",r.email),m(4),p("ngModel",r.password))},dependencies:[j,I,L,_,U,F,N,W],styles:['div.bg-cover[_ngcontent-%COMP%]{position:relative;z-index:1}div.bg-cover[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#14141480;z-index:-1}']})}}return t})();var T=[{path:"",component:P}];var re=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=w({type:t})}static{this.\u0275inj=h({imports:[C,E,S.forChild(T),k]})}}return t})();export{re as LoginModule};
