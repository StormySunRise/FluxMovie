import{a as x}from"./chunk-UGVPO7TD.js";import{a as S,b as m,c as M,d as F,g as R,h as N,i as U,k as E,l as j,m as D,n as P,o as k,p as c,q}from"./chunk-XIAPWBDK.js";import{a as I}from"./chunk-WQPGKETM.js";import{i as _}from"./chunk-TLQWEWJL.js";import"./chunk-HZQYCWS3.js";import{h as C}from"./chunk-542AAHZQ.js";import"./chunk-CKMECCOM.js";import{Bb as s,Ua as d,Va as l,ba as g,e as f,ka as h,la as v,lb as u,o as b,ob as o,oc as y,pb as e,qb as n,tb as w}from"./chunk-XYDWLSVQ.js";var z=(()=>{class r{constructor(a,t,i){this.fb=a,this.userService=t,this.dialog=i,this._unsubscribeAll=new b,this.apiUrl=I.apiUrl,this.registrationForm=this.fb.group({username:["",m.required],email:["",[m.required,m.email]],password:["",m.required],confirmPassword:["",m.required]})}onSubmit(){return f(this,null,function*(){if(this.registrationForm.valid){let{username:a,email:t,password:i}=this.registrationForm.value;try{let p=yield this.userService.registerUser(this.apiUrl,a,t,i,!0);this.dialog.open(c,{data:{isSuccess:!0,message:"Tu registro se complet\xF3 con \xE9xito."}})}catch{this.dialog.open(c,{data:{isSuccess:!1,message:"Ocurri\xF3 un error durante el registro. Por favor, int\xE9ntalo de nuevo."}})}}})}ngOnDestroy(){this._unsubscribeAll.next("Nothing"),this._unsubscribeAll.complete()}static{this.\u0275fac=function(t){return new(t||r)(l(E),l(x),l(_))}}static{this.\u0275cmp=h({type:r,selectors:[["app-user-registration"]],decls:26,vars:2,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","bg-gray-800","relative"],[1,"absolute","inset-0","z-0"],["src","https://www.islabit.com/wp-content/uploads/2020/12/cintas-online.jpg","alt","Promocional",1,"w-full","h-full","object-cover","brightness-50"],[1,"w-full","max-w-md","bg-gray-900","p-8","rounded-lg","shadow-lg","text-white","z-10"],[1,"text-3xl","font-bold","mb-6","text-center","text-blue-500"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","name",1,"block","text-sm","mb-2"],["type","text","id","name","formControlName","username","placeholder","Introduce tu nombre completo",1,"w-full","p-3","rounded","bg-gray-700","border","border-gray-600","focus:border-blue-500"],["for","email",1,"block","text-sm","mb-2"],["type","email","id","email","formControlName","email","placeholder","Introduce tu correo",1,"w-full","p-3","rounded","bg-gray-700","border","border-gray-600","focus:border-blue-500"],["for","password",1,"block","text-sm","mb-2"],["type","password","id","password","formControlName","password","placeholder","Crea una contrase\xF1a",1,"w-full","p-3","rounded","bg-gray-700","border","border-gray-600","focus:border-blue-500"],[1,"mb-6"],["for","confirmPassword",1,"block","text-sm","mb-2"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirma tu contrase\xF1a",1,"w-full","p-3","rounded","bg-gray-700","border","border-gray-600","focus:border-blue-500"],["type","submit",1,"w-full","p-3","bg-blue-600","rounded","shadow-lg","hover:bg-blue-700","transition",3,"disabled"]],template:function(t,i){t&1&&(n(0,"app-navbar"),o(1,"div",0)(2,"div",1),n(3,"img",2),e(),o(4,"div",3)(5,"h1",4),s(6,"Reg\xEDstrate"),e(),o(7,"form",5),w("ngSubmit",function(){return i.onSubmit()}),o(8,"div",6)(9,"label",7),s(10,"Nombre completo"),e(),n(11,"input",8),e(),o(12,"div",6)(13,"label",9),s(14,"Correo electr\xF3nico"),e(),n(15,"input",10),e(),o(16,"div",6)(17,"label",11),s(18,"Contrase\xF1a"),e(),n(19,"input",12),e(),o(20,"div",13)(21,"label",14),s(22,"Confirmar contrase\xF1a"),e(),n(23,"input",15),e(),o(24,"button",16),s(25," Registrarse "),e()()()()),t&2&&(d(7),u("formGroup",i.registrationForm),d(17),u("disabled",i.registrationForm.invalid))},dependencies:[R,S,M,F,P,N,U],styles:['div.bg-cover[_ngcontent-%COMP%]{position:relative;z-index:1}div.bg-cover[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:-1}']})}}return r})();var A=[{path:"",component:z}];var se=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=v({type:r})}static{this.\u0275inj=g({imports:[y,j,C.forChild(A),q,D,k]})}}return r})();export{se as UserRegistrationModule};
